<!DOCTYPE html><html lang=""><head><title>重置密码</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no"><style type="text/css">*{margin:0;padding:0}body,html{width:100%;height:100%;overflow:hidden;font-family:"黑体",tahoma,arial,simsun,"宋体";-webkit-text-size-adjust:none;-webkit-tap-highlight-color:transparent;-webkit-user-select:none;-webkit-touch-callout:none;font-size:14px}label{float:left;line-height:34px}.container-fluid{width:100%;margin-left:auto;margin-right:auto;position:relative;overflow:hidden}.row-fluid{position:relative;line-height:auto;padding:6px 16px 6px 16px;overflow:hidden}.rim-bottom{border-bottom:1px solid #DADEDD}.rim-top{border-top:1px solid #DADEDD}.input-rimless{display:inline-block;float:left;border:none;outline:0;line-height:14px;margin-left:16px;padding-top:11px;padding-bottom:11px;text-align:left;font-size:14px}.btn-down,.gluebottom{position:fixed;width:100%;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;text-align:center}.btn-down button,.gluebottom button{height:39px;width:100%;color:#fff;border-radius:3px;font-size:14px;outline:0}.gluebottom button{background-color:#3A87A0;border:1px solid #629FB4}.btn-down button{background-color:#225C6E;border:1px solid #629FB4}</style><body draggable="false"><div draggable="false" class="container-fluid"><form><div class="row-fluid rim-bottom"><label for="newpsw">新密码</label><input class="input-rimless" pattern="/[a-zA-Z0-9]{6,16}/" type="password" placeholder="6-12位数字加字母" id="newpsw"></div><div class="row-fluid rim-bottom"><label for="newpswcf">确认新密码</label><input class="input-rimless" pattern="/[a-zA-Z0-9]{6,16}/" type="password" placeholder="6-12位数字加字母" id="newpswcf"></div><div class="row-fluid gluebottom"><button class="commitBtn">确认</button></div></form></div><script src="scripts/5e7f7ba5.md5.js?v=522"></script><script type="text/javascript">var iphoneUrl="https://itunes.apple.com/us/app/xiao-mei-sheng-huo/id894465362?l=zh&ls=1&mt=8";
var androidUrl="http://cdn.xiaomei.com/app/xmlife/xmlife_2.5.169.apk";
var httpUrl="service.xiaomei.com";
var imageRes="http://res.xiaomei.com/";
var instRes="http://instimage.xiaomei.com/";
var shopperAndroidUrl="http://cdn.xiaomei.com/app/xmlife/supershoper_2.4.55.apk";
var wxConfig = {
    appId: 'wxdcbe0affffba53e0'
};
</script><script type="text/javascript">function hasClass(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function addClass(e,t){this.hasClass(e,t)||(e.className+=" "+t)}function removeClass(e,t){if(hasClass(e,t)){var a=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(a," ")}}function toggleClass(e,t){hasClass(e,t)?removeClass(e,t):addClass(e,t)}function addEvent(e,t,a,n){if(e.addEventListener)return e.addEventListener(t,a,n),!0;if(e.attachEvent){var s=e.attachEvent("on"+t,a);return s}e["on"+t]=a}function getCoords(e){var t=e.getBoundingClientRect(),a=e.ownerDocument,n=a.body,s=a.documentElement,o=s.clientTop||n.clientTop||0,r=s.clientLeft||n.clientLeft||0,l=t.top+(self.pageYOffset||s.scrollTop||n.scrollTop)-o,c=t.left+(self.pageXOffset||s.scrollLeft||n.scrollLeft)-r;return{top:l,left:c}}!function(){var e=document.getElementsByTagName("button")[0];password=document.getElementById("newpsw"),passwordconfirm=document.getElementById("newpswcf"),commitBtnParent=document.getElementsByClassName("gluebottom")[0];var t={INVALID_PHONE:"-28",INVALID_AUTH_TYPE:"-27",AUTHCODE_EXPIRE:"-25",ACTION_FAILED:"-18",PHONE_NOTEXIST:"-22"},a={INVALID_PHONE:"无效手机号",INVALID_AUTH_TYPE:"",AUTHCODE_EXPIRE:"验证码过期",ACTION_FAILED:"重置密码失败",PHONE_NOTEXIST:"手机号未注册"},n=function(){var e=new XMLHttpRequest,n=window.location.search,s=window.location.host;s.match("localhost")?s="dev.xiaomei.com":s.match("www")&&(s=httpUrl);var o=new Date,r="http://"+s+"/biz/rest/auth/reset/?&t="+o.getTime(),l=hex_md5(passwordconfirm.value),c=null,i=null;n.search("authcode")&&(c=n.slice(n.search("authcode")+9,n.search("phone")-1)),n.search("phone")&&(i=n.substr(n.search("phone")+6));var d="phone="+i+"&newPassword="+l+"&authcode="+c+"&verifyType=4";e.open("put",r,!0),e.onreadystatechange=function(){if(4==e.readyState)if(e.status>=200&&e.status<300||304==e.status)if("0"==e.responseText)alert("重置密码成功"),window.location.href="com.paitao.xmlife://action/resetPassWordLogin/";else switch(e.responseText){case t.INVALID_PHONE:alert(a.INVALID_PHONE);break;case t.INVALID_AUTH_TYPE:alert(a.INVALID_AUTH_TYPE);break;case t.AUTHCODE_EXPIRE:alert(a.AUTHCODE_EXPIRE);break;case t.ACTION_FAILED:alert(a.ACTION_FAILED);break;case t.PHONE_NOTEXIST:alert(a.PHONE_NOTEXIST)}else alert("请求失败:"+e.status)},e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.send(d)};e.onclick=function(e){return password.value?passwordconfirm.value?password.value==passwordconfirm.value?password.value.length<6||passwordconfirm.value.length<6?alert("密码必须为6位长度数字或字母"):n():alert("两次密码输入不一致，请重新输入"):alert("请确认新密码"):alert("请输入新密码"),!1},addEvent(commitBtnParent,"touchstart",function(e){hasClass(commitBtnParent,"btn-down")?null:addClass(commitBtnParent,"btn-down")},!1),addEvent(commitBtnParent,"touchend",function(e){hasClass(commitBtnParent,"btn-down")?removeClass(commitBtnParent,"btn-down"):null},!1);var s=getCoords(e),o=commitBtnParent.offsetWidth,r=commitBtnParent.offsetHeight,l=s.left,c=s.left+o,i=s.top,d=s.top+r;addEvent(commitBtnParent,"touchmove",function(e){e.preventDefault();var t,a;t=e.targetTouches[0].pageX,a=e.targetTouches[0].pageY,(l>t||t>c||i>a||a>d)&&(hasClass(commitBtnParent,"btn-down")?removeClass(commitBtnParent,"btn-down"):null)},!1)}();</script>
